# Домашнее задание к занятию 1 "Типы и структура СУБД" - Лебедев Антон

## Задача 1

*Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определённых данных.*

*Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:*

- *электронные чеки в json-виде,*
- *склады и автомобильные дороги для логистической компании,*
- *генеалогические деревья,*
- *кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации,*
- *отношения клиент-покупка для интернет-магазина.*

*Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.*

---

- Электронные чеки: документоориентированная СУБД (ибо хранить будем как раз документы).

- Склады и дороги для логистической компании: если база включает в себя только склады и дороги между ними, то тип СУБД для большинства случаев не принципиален, так как размер любой реальной базы не будет слишком большим и не повлияет на быстродействие, основная нагрузка там будет вычислительной (приближённое или точное решение задачи коммивояжёра). Для очень больших логистических сетей (например, "Магнитов" в РФ порядка 30 тысяч одних только магазинов, каждый из которых тоже склад) можно использовать графовую БД.

- Генеалогические деревья: графовая СУБД, так как наиболее типичные задачи будут связаны с поисками общих предков в графе-дереве.

- Кэш идентификаторов документов: СУБД типа ключ-значение вроде Redis или Memcached (быстродействие тут на первом месте).

- Отношения клиент-покупка для интернет-магазина: колоночная БД (данные в целом упорядочены, но не настолько строго, чтобы использование реляционной базы было оправдано).

## Задача 2

*Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно  CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):*

- *данные записываются на все узлы с задержкой до часа (асинхронная запись);*
- *при сетевых сбоях система может разделиться на 2 раздельных кластера;*
- *система может не прислать корректный ответ или сбросить соединение.*

*Согласно PACELC-теореме как бы вы классифицировали эти реализации?*

---

- Асинхронная запись - это признак PA-cистемы, либо PA/EL по классификации PACELC.
- Устойчивость к сетевым сбоям - PC либо PC/EL
- Недоступность - также PC, но уже PC/EC по классификации PACELC

## Задача 3

*Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?*

---

Все принципы BASE и ACID в одной системе сочетаться не могут, так как многие из них являются взаимоисключающими.

## Задача 4

*Вам дали задачу написать системное решение, основой которого бы послужили:*

- *фиксация некоторых значений с временем жизни,*
- *реакция на истечение таймаута.*

*Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора этой системы?*

---

Речь идёт о Redis, недостатки следующие:

- Язык не похож на SQL
- Данные хранятся только в оперативной памяти, поэтому суммарный объём ограничен
- Нет разделения доступа для пользователей
- Однопоточная



